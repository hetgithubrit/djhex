<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Best DJ in Ahmedabad | Wedding & Party</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
  <link rel="icon" type="image/png" href="./images/favicon.png">
  
  <!-- TAILWIND CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      corePlugins: {
        preflight: false, // IMPORANT: Disable reset to prevent breaking existing site header/footer
      }
    }
  </script>

  <style>
    /* CUSTOM LIGHTBOX STYLES (Kept for complexity management inside JS toggles) */
    .lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(10px);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .lightbox.active {
      opacity: 1;
      pointer-events: all;
    }
    
    .lightbox-content {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      transform: scale(0.95);
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .lightbox.active .lightbox-content {
      transform: scale(1);
    }
    
    .lightbox-img {
      max-width: 100%;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 8px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.5);
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    
    .lightbox-close {
      position: absolute;
      top: -40px;
      right: -10px;
      width: 36px;
      height: 36px;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 50%;
      color: #fff;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 1010;
    }
    
    .lightbox-close:hover {
      background: rgba(255,255,255,0.2);
      transform: rotate(90deg);
    }

    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 44px;
      height: 44px;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 50%;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 1010;
    }

    .lightbox-nav:hover {
      background: rgba(255,255,255,0.25);
      transform: translateY(-50%) scale(1.1);
    }

    .lightbox-prev { left: -60px; }
    .lightbox-next { right: -60px; }

    @media (max-width: 768px) {
      .lightbox-prev { left: 10px; }
      .lightbox-next { right: 10px; }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div class="wrapper">
      <div class="top-contact">
        <a href="mailto:djhex1907@gmail.com">‚úâÔ∏è djhex1907@gmail.com</a>
        <span class="separator">|</span>
        <a href="tel:+918140442505">üìû +91 814044 2505</a>
      </div>
    </div>
  </div>
  <header>
    <div class="wrapper">
      <nav>
        <div class="brand">
          <span class="brand-name">DJ HEX</span>
        </div>
        <button class="menu-toggle" aria-label="Toggle menu">
          <span></span><span></span><span></span>
        </button>
        <div class="nav-links">
          <a href="./index.html">Home</a>
          <a href="./about.html">About</a>
          <a href="./services.html">Services</a>
          <a href="./gallery.html" class="active">Gallery</a>
          <a href="./videos.html">Videos</a>
          <a href="./reviews.html">Reviews</a>
          <a href="./contact.html">Contact</a>
        </div>
        <a class="cta" href="./contact.html">Book Now</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="wrapper">
      <section class="section" id="gallery">
        <div class="section-head">
          <div>
            <div class="pill">Gallery</div>
            <h2>Moments & vibes</h2>
          </div>
        </div>
        
        <!-- TAILWIND GALLERY GRID -->
        <div id="gallery-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full my-6 mx-auto min-h-[500px]">
          <!-- Images injected via JS -->
          <div id="gallery-loader" class="col-span-full flex justify-center items-center h-64 text-white/50">
            Scanning gallery...
          </div>
        </div>

        <div class="w-full text-center mt-12 mb-8">
          <p class="text-[#dcd4ff] text-lg mb-6">More photos  available on our Instagram</p>
          <a href="https://www.instagram.com/hex.dj?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#833ab4] to-[#fd1d1d] hover:brightness-110 text-white font-bold rounded-lg transition-all shadow-lg hover:-translate-y-1 no-underline text-sm">
            <svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24">
              <path d="M7.75 3h8.5A4.75 4.75 0 0 1 21 7.75v8.5A4.75 4.75 0 0 1 16.25 21h-8.5A4.75 4.75 0 0 1 3 16.25v-8.5A4.75 4.75 0 0 1 7.75 3Zm0 1.5A3.25 3.25 0 0 0 4.5 7.75v8.5A3.25 3.25 0 0 0 7.75 19.5h8.5a3.25 3.25 0 0 0 3.25-3.25v-8.5A3.25 3.25 0 0 0 16.25 4.5h-8.5Zm8.75 1.25a1 1 0 1 1 0 2 1 1 0 0 1 0-2ZM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"/>
            </svg>
            <span>Follow @hex.dj for More</span>
          </a>
        </div>
      </section>
    </div>
  </main>
  
  <!-- Lightbox Modal -->
  <div id="lightbox" class="lightbox">
    <div class="lightbox-content">
      <button class="lightbox-close" aria-label="Close lightbox">‚úï</button>
      <button class="lightbox-nav lightbox-prev" aria-label="Previous image">‚ùÆ</button>
      <button class="lightbox-nav lightbox-next" aria-label="Next image">‚ùØ</button>
      <img src="" alt="Gallery Image" class="lightbox-img" id="lightbox-img">
    </div>
  </div>

  <a class="whatsapp-fab" href="https://wa.me/918140442505" target="_blank" aria-label="Chat on WhatsApp">
    <svg viewBox="0 0 32 32" role="presentation">
      <path d="M16.02 4C9.94 4 5 8.76 5 14.6c0 2.09.62 4.03 1.7 5.67L5 28l7.03-1.85c1.26.35 2.59.54 3.99.54 6.07 0 11.02-4.76 11.02-10.6C27.04 8.76 22.1 4 16.02 4Zm0 19.2c-1.25 0-2.47-.2-3.6-.6l-.26-.09-4.17 1.1 1.11-4.02-.17-.26a8.58 8.58 0 0 1-1.36-4.73c0-4.82 4.03-8.74 9-8.74 4.96 0 9 3.92 9 8.74 0 4.82-4.04 8.74-9 8.74Zm5.23-6.5c-.29-.14-1.72-.84-1.99-.93-.27-.1-.47-.14-.67.14-.2.29-.77.93-.94 1.12-.17.19-.34.22-.63.08-.29-.15-1.23-.45-2.34-1.43-.86-.76-1.44-1.7-1.61-1.99-.17-.29-.02-.45.13-.59.13-.13.29-.34.44-.51.15-.17.2-.29.3-.48.1-.19.05-.36-.02-.5-.07-.14-.67-1.61-.92-2.2-.24-.58-.49-.5-.67-.5-.17 0-.36-.02-.55-.02-.19 0-.5.07-.76.36-.26.29-1 1-.99 2.43 0 1.43 1.03 2.81 1.18 3 .15.19 2.04 3.22 5 4.42.7.29 1.25.46 1.68.59.7.22 1.34.19 1.84.12.56-.08 1.72-.7 1.96-1.38.24-.68.24-1.26.17-1.38-.07-.12-.26-.19-.55-.33Z"></path>
    </svg>
  </a>

  <footer class="footer">
    <div class="footer-top">
      <div class="wrapper footer-grid">
        <div>
          <h4>DJ HEX</h4>
          <p>As a professional DJ with over five years of experience, I provide high-quality musical entertainment that leaves a lasting impression on your guests.</p>
        </div>
        <div>
          <h4>Contact</h4>
          <div class="footer-contact">
            <div class="contact-row">
              <div class="contact-icon">üìç</div>
              <div>Available for events across India & destinations.</div>
            </div>
            <div class="contact-row">
              <div class="contact-icon">‚òé</div>
              <div>+91 814044 2505<br>+91 98253 79804</div>
            </div>
            <div class="contact-row">
              <div class="contact-icon">‚úâ</div>
              <div><a class="contact-link" href="mailto:djhex1907@gmail.com">djhex1907@gmail.com</a></div>
            </div>
            <div class="contact-row">
              <div class="contact-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" role="presentation">
                  <path d="M7.75 3h8.5A4.75 4.75 0 0 1 21 7.75v8.5A4.75 4.75 0 0 1 16.25 21h-8.5A4.75 4.75 0 0 1 3 16.25v-8.5A4.75 4.75 0 0 1 7.75 3Zm0 1.5A3.25 3.25 0 0 0 4.5 7.75v8.5A3.25 3.25 0 0 0 7.75 19.5h8.5a3.25 3.25 0 0 0 3.25-3.25v-8.5A3.25 3.25 0 0 0 16.25 4.5h-8.5Zm8.75 1.25a1 1 0 1 1 0 2 1 1 0 0 1 0-2ZM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"/>
                </svg>
              </div>
              <div><a class="contact-link" href="https://www.instagram.com/hex.dj?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener">@hex.dj</a></div>
            </div>
          </div>
        </div>
        <div>
          <h4>Useful Links</h4>
          <ul class="footer-links">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./about.html">About</a></li>
            <li><a href="./services.html">Services</a></li>
            <li><a href="./gallery.html">Gallery</a></li>
            <li><a href="./videos.html">Videos</a></li>
            <li><a href="./reviews.html">Reviews</a></li>
            <li><a href="./contact.html">Contact</a></li>
            <li><a href="./contact.html">Book Now</a></li>
          </ul>
        </div>
        <div>
          <h4>Service Areas</h4>
          <ul class="footer-areas">
            <li><a href="#">DJ in Ahmedabad</a></li>
            <li><a href="#">DJ in Surat</a></li>
            <li><a href="#">DJ in Anand</a></li>
            <li><a href="#">DJ in Nadiad</a></li>
            <li><a href="#">DJ in Udaipur</a></li>
            <li><a href="#">DJ in Jaipur</a></li>
            <li><a href="#">DJ in Goa</a></li>
            <li><a href="#">DJ in Mumbai</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      ¬© <span data-year></span> DJ HEX. Crafted for unforgettable nights.
    </div>
  </footer>
  
  <script src="./main.js"></script>

  <!-- Gallery Logic -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const imageFolder = './images/gallery/';
      // Use objects to define per-image properties
      const galleryImages = [
        { file: "20251122_232736.jpg", align: "object-left" },
        { file: "20251122_232747.jpg", align: "object-center" }, 
        { file: "IMG_20251211_191333.jpg", align: "object-center" },
        { file: "20251122_234900.jpg", align: "object-center" },
        { file: "20251122_235255.jpg", align: "object-center" },
        { file: "20251123_154903.jpg", align: "object-center" },
        { file: "20251211_222632.jpg", align: "object-center" },
        // Fix for green/purple light burst photos to show DJ at bottom
        { file: "IMG_20251211_205817.jpg", align: "object-bottom" }, // Purple lights
        { file: "IMG_20251211_205821.jpg", align: "object-bottom" }, // Green lights
        { file: "IMG_20251211_210018.jpg", align: "object-center" },
        { file: "IMG_20251211_223024.jpg", align: "object-center" },
        { file: "IMG_20251216_121651.jpg", align: "object-center" },
        { file: "event-bachelor.jpg", align: "object-center" },
        { file: "event-club.jpg", align: "object-center" },
        { file: "event-freshers.jpg", align: "object-center" },
      ];

      const galleryContainer = document.getElementById('gallery-container');
      const loader = document.getElementById('gallery-loader');
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxClose = document.querySelector('.lightbox-close');
      
      // State for navigation
      let currentImageIndex = 0;
      let galleryData = []; // To store processed images

      // Helper: Get image dimensions
      const getImageData = (imageObj) => {
        return new Promise((resolve) => {
          const img = new Image();
          img.src = `${imageFolder}${imageObj.file}`;
          img.onload = () => resolve({ 
            ...imageObj, 
            aspectRatio: img.width / img.height,
            isVertical: img.height > img.width 
          });
          img.onerror = () => resolve({ ...imageObj, aspectRatio: 1, isVertical: false });
        });
      };

      // 1. Load Dimensions & Sort
      try {
        const imagesWithData = await Promise.all(galleryImages.map(getImageData));
        
        // Sort: Verticals first
        imagesWithData.sort((a, b) => {
          if (a.isVertical && !b.isVertical) return -1;
          if (!a.isVertical && b.isVertical) return 1;
          return 0; // Maintain existing order for same type
        });
        
        // Store for navigation
        galleryData = imagesWithData;

        // Clear loader
        if(loader) loader.remove();

        // 2. Render Sorted Images
        imagesWithData.forEach((data, index) => {
          const item = document.createElement('div');
          
          item.className = 'group relative w-full h-[500px] lg:h-[600px] cursor-pointer overflow-hidden rounded-xl bg-white/5 border border-white/10 shadow-lg opacity-0 translate-y-4 transition-all duration-700 hover:shadow-2xl hover:-translate-y-1';
          
          const img = document.createElement('img');
          img.src = `${imageFolder}${data.file}`;
          img.alt = `DJ Hex Event Photo ${index + 1}`;
          img.loading = "lazy";
          
          // Use configured alignment
          const alignmentClass = data.align || 'object-center';
          const alignmentStyle = data.align ? data.align.replace('object-', '') : 'center';

          img.className = `w-full h-full object-cover ${alignmentClass} transition-transform duration-500 group-hover:scale-110`;
          img.style.objectPosition = alignmentStyle;
          
          img.onload = () => {
            item.classList.remove('opacity-0', 'translate-y-4');
            item.classList.add('opacity-100', 'translate-y-0');
          };

          item.appendChild(img);
          galleryContainer.appendChild(item);

          item.addEventListener('click', () => {
            openLightbox(index);
          });
        });

      } catch (error) {
        console.error("Gallery Error:", error);
        if (loader) loader.textContent = 'Error loading gallery.';
      }

      function openLightbox(index) {
        if (index < 0 || index >= galleryData.length) return;
        currentImageIndex = index;
        // Initial open - just fade in
        lightboxImg.style.transition = 'opacity 0.3s ease';
        lightboxImg.style.opacity = '0';
        lightboxImg.src = `${imageFolder}${galleryData[currentImageIndex].file}`;
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        requestAnimationFrame(() => {
            lightboxImg.style.opacity = '1';
        });
      }

      function updateLightboxImage(direction) {
        // Slide Out
        const offset = direction * 50; // 50px slide
        lightboxImg.style.opacity = '0';
        lightboxImg.style.transform = `translateX(${offset * -1}px)`;
        
        setTimeout(() => {
            lightboxImg.src = `${imageFolder}${galleryData[currentImageIndex].file}`;
            
            // Setup for Slide In (Instant jump to opposite side)
            lightboxImg.style.transition = 'none';
            lightboxImg.style.transform = `translateX(${offset}px)`;
            
            // Force reflow
            void lightboxImg.offsetWidth;
            
            // Animate In
            lightboxImg.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
            lightboxImg.style.transform = 'translateX(0)';
            lightboxImg.style.opacity = '1';
        }, 300);
      }

      function showNextImage() {
        currentImageIndex = (currentImageIndex + 1) % galleryData.length;
        updateLightboxImage(1); // Slide Left
      }

      function showPrevImage() {
        currentImageIndex = (currentImageIndex - 1 + galleryData.length) % galleryData.length;
        updateLightboxImage(-1); // Slide Right
      }

      function closeLightbox() {
        lightbox.classList.remove('active');
        document.body.style.overflow = '';
        setTimeout(() => {
          lightboxImg.src = ''; 
          lightboxImg.style.transform = '';
        }, 300);
      }

      const lightboxNext = document.querySelector('.lightbox-next');
      const lightboxPrev = document.querySelector('.lightbox-prev');

      lightboxClose.addEventListener('click', closeLightbox);
      lightboxNext.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent closing lightbox
        showNextImage();
      });
      lightboxPrev.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent closing lightbox
        showPrevImage();
      });

      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });
      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('active')) return; 
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowLeft') showPrevImage();
        if (e.key === 'ArrowRight') showNextImage();
      });

      // Swipe Logic
      let touchStartX = 0;
      let touchEndX = 0;
      const minSwipeDistance = 50;

      lightbox.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
      }, { passive: true });

      lightbox.addEventListener('touchmove', (e) => {
        touchEndX = e.changedTouches[0].screenX;
      }, { passive: true });

      lightbox.addEventListener('touchend', () => {
        if (!touchStartX || !touchEndX) return;
        const distance = touchStartX - touchEndX;
        
        if (Math.abs(distance) > minSwipeDistance) {
            // Swipe Left -> Next
            if (distance > 0) showNextImage();
            // Swipe Right -> Prev
            else showPrevImage();
        }
        
        touchStartX = 0;
        touchEndX = 0;
      });
      
      const yearSpan = document.querySelector('[data-year]');
      if(yearSpan) yearSpan.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>


